import{l as se,f as I,u as re,o as ie,r as i,a1 as oe,S as le,a as P,c as N,_ as E,b as L,q as j,aE as de,I as ce,E as ue,k as fe,ax as he,H as be,t as R,aC as me,aF as G,aa as S,a6 as U,P as o,ak as K,aG as V,an as pe,aH as ve,ah as W,ai as xe}from"./index.4f379bc2.js";import{c as ge,u as ye,G as we,F,d as k,I as z,e as $,f as q,h as Se,i as Ce,a as J}from"./styles.87bc337f.js";import{B as H}from"./chakra-ui-button.esm.68b21301.js";/* empty css               */function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}function D(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,r;for(r=0;r<a.length;r++)s=a[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var Te=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],_e=["isDisabled","isFocusable"],Ie=["isSelected","id","children"],B=ge(),Pe=B[0],Y=B[1],Ne=B[2],Ee=B[3];function Fe(e){var t=e.defaultIndex,n=e.onChange,a=e.index,s=e.isManual,r=e.isLazy,c=e.lazyBehavior,l=c===void 0?"unmount":c,d=e.orientation,h=d===void 0?"horizontal":d,u=e.direction,p=u===void 0?"ltr":u,b=D(e,Te),x=i.exports.useState(t!=null?t:0),f=x[0],v=x[1],C=de({defaultValue:t!=null?t:0,value:a,onChange:n}),T=C[0],_=C[1];i.exports.useEffect(function(){a!=null&&v(a)},[a]);var w=Ne(),g=ce(e.id,"tabs");return{id:g,selectedIndex:T,focusedIndex:f,setSelectedIndex:_,setFocusedIndex:v,isManual:s,isLazy:r,lazyBehavior:l,orientation:h,descendants:w,direction:p,htmlProps:b}}var Q=se({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),ke=Q[0],A=Q[1];function ze(e){var t=A(),n=t.focusedIndex,a=t.orientation,s=t.direction,r=Y(),c=i.exports.useCallback(function(l){var d,h=function(){var y=r.nextEnabled(n);y&&R(y.node)},u=function(){var y=r.prevEnabled(n);y&&R(y.node)},p=function(){var y=r.firstEnabled();y&&R(y.node)},b=function(){var y=r.lastEnabled();y&&R(y.node)},x=a==="horizontal",f=a==="vertical",v=ue(l),C=s==="ltr"?"ArrowLeft":"ArrowRight",T=s==="ltr"?"ArrowRight":"ArrowLeft",_=(d={},d[C]=function(){return x&&u()},d[T]=function(){return x&&h()},d.ArrowDown=function(){return f&&h()},d.ArrowUp=function(){return f&&u()},d.Home=p,d.End=b,d),w=_[v];w&&(l.preventDefault(),w(l))},[r,n,a,s]);return m({},e,{role:"tablist","aria-orientation":a,onKeyDown:j(e.onKeyDown,c)})}function De(e){var t=e.isDisabled,n=e.isFocusable,a=D(e,_e),s=A(),r=s.setSelectedIndex,c=s.isManual,l=s.id,d=s.setFocusedIndex,h=s.selectedIndex,u=Ee({disabled:t&&!n}),p=u.index,b=u.register,x=p===h,f=function(){r(p)},v=function(){d(p);var w=t&&n,g=!c&&!w;g&&r(p)},C=ye(m({},a,{ref:fe(b,e.ref),isDisabled:t,isFocusable:n,onClick:j(e.onClick,f)})),T="button";return m({},C,{id:X(l,p),role:"tab",tabIndex:x?0:-1,type:T,"aria-selected":x,"aria-controls":Z(l,p),onFocus:t?void 0:j(e.onFocus,v)})}function Le(e){var t=A(),n=t.id,a=t.selectedIndex,s=he(e.children),r=s.map(function(c,l){return i.exports.cloneElement(c,{isSelected:l===a,id:Z(n,l),"aria-labelledby":X(n,l)})});return m({},e,{children:r})}function Ae(e){var t=e.isSelected,n=e.id,a=e.children,s=D(e,Ie),r=A(),c=r.isLazy,l=r.lazyBehavior,d=i.exports.useRef(!1);t&&(d.current=!0);var h=be({hasBeenSelected:d.current,isSelected:t,isLazy:c,lazyBehavior:l});return m({tabIndex:0},s,{children:h?a:null,role:"tabpanel",hidden:!t,id:n})}function Re(){var e=A(),t=Y(),n=e.selectedIndex,a=e.orientation,s=a==="horizontal",r=a==="vertical",c=i.exports.useState(function(){if(s)return{left:0,width:0};if(r)return{top:0,height:0}}),l=c[0],d=c[1],h=i.exports.useState(!1),u=h[0],p=h[1];return me(function(){if(!G(n)){var b=t.item(n);if(!G(b)){s&&d({left:b.node.offsetLeft,width:b.node.offsetWidth}),r&&d({top:b.node.offsetTop,height:b.node.offsetHeight});var x=requestAnimationFrame(function(){p(!0)});return function(){x&&cancelAnimationFrame(x)}}}},[n,s,r,t]),m({position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:u?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},l)}function X(e,t){return e+"--tab-"+t}function Z(e,t){return e+"--tabpanel-"+t}var He=["children","className"],Be=["htmlProps","descendants"],ee=I(function(e,t){var n=re("Tabs",e),a=ie(e),s=a.children,r=a.className,c=D(a,He),l=Fe(c),d=l.htmlProps,h=l.descendants,u=D(l,Be),p=i.exports.useMemo(function(){return u},[u]),b=oe(d,["isFitted"]);return i.exports.createElement(Pe,{value:h},i.exports.createElement(ke,{value:p},i.exports.createElement(le,{value:n},i.exports.createElement(P.div,m({className:N("chakra-tabs",r),ref:t},b,{__css:n.root}),s))))});E&&(ee.displayName="Tabs");var M=I(function(e,t){var n=L(),a=De(m({},e,{ref:t})),s=m({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.tab);return i.exports.createElement(P.button,m({},a,{className:N("chakra-tabs__tab",e.className),__css:s}))});E&&(M.displayName="Tab");var te=I(function(e,t){var n=ze(m({},e,{ref:t})),a=L(),s=m({display:"flex"},a.tablist);return i.exports.createElement(P.div,m({},n,{className:N("chakra-tabs__tablist",e.className),__css:s}))});E&&(te.displayName="TabList");var O=I(function(e,t){var n=Ae(m({},e,{ref:t})),a=L();return i.exports.createElement(P.div,m({outline:"0"},n,{className:N("chakra-tabs__tab-panel",e.className),__css:a.tabpanel}))});E&&(O.displayName="TabPanel");var ae=I(function(e,t){var n=Le(e),a=L();return i.exports.createElement(P.div,m({},n,{width:"100%",ref:t,className:N("chakra-tabs__tab-panels",e.className),__css:a.tabpanels}))});E&&(ae.displayName="TabPanels");var je=I(function(e,t){var n=Re(),a=m({},e.style,n),s=L();return i.exports.createElement(P.div,m({ref:t},e,{className:N("chakra-tabs__tab-indicator",e.className),style:a,__css:s.indicator}))});E&&(je.displayName="TabIndicator");const ne=({setName:e,setEmail:t,setPassword:n,setConfirmpassword:a,picLoading:s,show:r,isLogin:c,postDetails:l,submitHandler:d,handleClick:h,email:u,password:p})=>{const b=new we,x=()=>{Se(Ce,b).then(f=>t(f.user.email)).catch(f=>console.error(f))};return S(U,{children:[!c&&S(F,{id:"first-name",isRequired:!0,children:[o(k,{children:"Name"}),o(z,{placeholder:"Enter Your Name",onChange:f=>e(f.target.value),borderColor:"rgb(255 255 255 / 0%)",boxShadow:"inset 0 0 6px 2px rgba(0,0,0,0.2)"})]}),S(F,{id:"email",isRequired:!0,children:[o(k,{children:"Email Address"}),o(z,{type:"button",value:u||"Get The Email From Google",onClick:()=>x(),borderColor:"rgb(255 255 255 / 0%)",boxShadow:"inset 0 0 6px 2px rgba(0,0,0,0.2)"})]}),S(F,{id:"password",isRequired:!0,children:[o(k,{children:"Password"}),S($,{size:"md",children:[o(z,{type:r?"text":"password",value:p,placeholder:"Enter Password",onChange:f=>n(f.target.value),borderColor:"rgb(255 255 255 / 0%)",boxShadow:"inset 0 0 6px 2px rgba(0,0,0,0.2)"}),o(q,{width:"4.5rem",children:o(H,{h:"1.75rem",size:"sm",onClick:h,children:r?"Hide":"Show"})})]})]}),!c&&S(U,{children:[S(F,{id:"password",isRequired:!0,children:[o(k,{children:"Confirm Password"}),S($,{size:"md",children:[o(z,{type:r?"text":"password",placeholder:"Confirm password",onChange:f=>a(f.target.value),borderColor:"rgb(255 255 255 / 0%)",boxShadow:"inset 0 0 6px 2px rgba(0,0,0,0.2)"}),o(q,{width:"4.5rem",children:o(H,{h:"1.75rem",size:"sm",onClick:h,children:r?"Hide":"Show"})})]})]}),S(F,{id:"pic",children:[o(k,{children:"Upload your Picture"}),o(z,{type:"file",p:1.5,accept:"image/*",onChange:f=>l(f.target.files[0]),borderColor:"rgb(255 255 255 / 0%)",boxShadow:"inset 0 0 6px 2px rgba(0,0,0,0.2)"})]})]}),o(H,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:d,isLoading:s,className:"button-inner-effect",children:c?"Login":"Sign Up"}),c&&o(H,{variant:"solid",width:"100%",disabled:!0,className:"button-inner-effect",onClick:()=>{t("guestUser@gmail.com"),n("123456")},children:"Get Guest User Credentials"})]})},Me=()=>{const[e,t]=i.exports.useState(""),[n,a]=i.exports.useState(""),[s,r]=i.exports.useState(!1),[c,l]=i.exports.useState(!1),[d,h]=i.exports.useState(),[u,p]=i.exports.useState(!1),b=K();return o(V,{children:o(ne,{isLogin:!0,picLoading:u,postDetails:null,setConfirmpassword:h,setEmail:t,setName:null,setPassword:a,show:s,submitHandler:async()=>{if(l(!0),!e||!n){b({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),l(!1);return}try{const v={headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"POST"}},{data:C}=await J.post("/api/user/login",{email:e,password:n},v);localStorage.setItem("userInfo",JSON.stringify(C)),l(!1),window.location.reload()}catch(v){b({title:"Error Occured!",description:v.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),l(!1)}},handleClick:()=>r(!s),email:e,password:n})})},Oe=()=>{const[e,t]=i.exports.useState(!1),n=()=>t(!e),a=K(),[s,r]=i.exports.useState(),[c,l]=i.exports.useState(),[d,h]=i.exports.useState(),[u,p]=i.exports.useState(),[b,x]=i.exports.useState(),[f,v]=i.exports.useState(!1),C=0;return o(V,{spacing:"5px",children:o(ne,{isLogin:!1,picLoading:f,postDetails:w=>{if(v(!0),w===void 0){a({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"});return}if(w.type==="image/jpeg"||w.type==="image/png"){const g=new FormData;g.append("file",w),g.append("upload_preset","chat-app-mern"),g.append("cloud_name","yuvraj-choudahry-dev"),fetch("https://api.cloudinary.com/v1_1/yuvraj-choudahry-dev/image/upload",{method:"post",body:g}).then(y=>y.json()).then(y=>{x(y.url.toString()),v(!1)}).catch(y=>{v(!1)})}else{a({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),v(!1);return}},setConfirmpassword:h,setEmail:l,setName:r,setPassword:p,show:e,submitHandler:async()=>{if(v(!0),!s||!c||!u||!d){a({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),v(!1);return}if(u!==d){a({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"});return}try{const w={headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"POST"}},{data:g}=await J.post("/api/user",{name:s,email:c,password:u,pic:b,coin:C},w);localStorage.setItem("userInfo",JSON.stringify(g)),v(!1),window.location.reload()}catch(w){a({title:"Error Occurred!",description:w.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),v(!1)}},handleClick:n,email:c,password:u})})};function qe(){const e=pe();return i.exports.useEffect(()=>{JSON.parse(localStorage.getItem("userInfo"))&&e.push("/@")},[e]),o("div",{className:"home",children:S(ve,{maxW:"xl",centerContent:!0,children:[o(W,{display:"flex",justifyContent:"center",p:3,w:"100%",m:"40px 0 15px 0",borderRadius:"3xl",borderWidth:"1px",shadow:"2xl",children:o(xe,{fontSize:"4xl",fontFamily:"nunito",children:"Whats Dapp"})}),o(W,{w:"100%",p:5,borderRadius:"3xl",borderWidth:"1px",shadow:"2xl",children:S(ee,{isFitted:!0,variant:"enclosed",children:[S(te,{mb:"1em",children:[o(M,{className:"button-inner-effect",mr:2,children:"Login"}),o(M,{className:"button-inner-effect",ml:2,children:"Sign Up"})]}),S(ae,{children:[o(O,{children:o(Me,{})}),o(O,{children:o(Oe,{})})]})]})})]})})}export{qe as default};
